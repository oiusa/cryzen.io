import{i as I,y as x,v as f,z as w,bs as O,o as l,c as i,_ as k,j as B,bt as D,u as K,a as L,b0 as H,H as P,bm as $,d as o,e as v,n as h,a1 as R,bu as E,bv as V,F as S,w as z,D as U,h as C,K as F,b1 as M,a0 as W,af as j,bw as q,O as Q,k as X,a5 as Y,r as J,bx as Z,t as b,E as ee,g as se,p as ae,q as te,l as T}from"./index-ltdjbB5e.js";const ne=I({__name:"AdaptiveBanner",props:{checkpointAds:{type:Array,default:[]},placement:{type:String,default:"none"}},setup(d){const c=d,m=x(),s=f(!1),a=f(null),r={"728x90":{width:"728px",height:"90px","min-width":"728px","min-height":"90px",mobile:!1},"320x50":{width:"320px",height:"50px","min-width":"320px","min-height":"50px",mobile:!0},"300x250":{width:"300px",height:"250px","min-width":"300px","min-height":"250px",mobile:!1}},u=()=>{gameanalytics.GameAnalytics.addAdEvent(gameanalytics.EGAAdAction.Clicked,gameanalytics.GAAdType.Banner,"poki",c.placement)},_=()=>{const e=window.innerWidth,n=window.innerHeight,g=t=>t[1][0]<e&&t[1][1]<n&&(m.isMobileOrTablet?r[t[0]].mobile:!0);c.checkpointAds.some(t=>{const y=g(t);if(y&&t[0]===s.value)return!0;if(y&&t[0]!==s.value){s.value&&PokiSDK.destroyAd(a.value);const p=r[t[0]];return a.value.style.width=p.width,a.value.style.height=p.height,PokiSDK.displayAd(a.value,t[0]),gameanalytics.GameAnalytics.addAdEvent(gameanalytics.EGAAdAction.Show,gameanalytics.EGAAdType.Banner,"poki",c.placement),s.value=t[0],!0}}),c.checkpointAds.every(t=>!g(t))&&s.value&&(PokiSDK.destroyAd(a.value,s.value),s.value=!1)};return w(()=>{PokiSDK&&(_(),window.addEventListener("resize",_))}),O(()=>{removeEventListener("resize",_),PokiSDK&&s.value&&PokiSDK.destroyAd(a.value,s.value)}),(e,n)=>(l(),i("div",{onClick:u,ref_key:"adContainer",ref:a,class:"adaptive-banner"},null,512))}}),he=k(ne,[["__scopeId","data-v-92c15677"]]),oe=["placeholder","maxlength"],le=I({__name:"ChatInput",setup(d){const{t:c}=B(),m=x(),s=D(),a=K(),r=L(),u=H(),_=f(null),e=f(""),n=y=>{e.value.length<=E?e.value=y.target.value:e.value=e.value.substring(0,e.value.length-1)},g=()=>{e.value=e.value.trim(),e.value.length&&(u.server?u.server.sendMessage(M.CHAT,e.value):W().room.send(j.CHAT,e.value),e.value.charAt(0)==="/"&&(q.includes(u.server.gameWorld.player.name)||Q)&&u.server.sendMessage(M.ADMIN_COMMAND,e.value.substring(1))),e.value=""},t=()=>{r.playInterfaceSoundByName("click"),e.value.length>0&&g(),s.isChatOpen?(setTimeout(()=>s.isChatOpen=!1,1),_.value.blur()):(s.isChatOpen=!0,_.value.focus())};return(y,p)=>{const N=F;return l(),i("div",{class:h(["input-wrapper",[o(m).isMobileOrTablet?"mobile-input":""]])},[P(v("input",{type:"text",class:h(["input",{"active-input":!o(s).isChatOpen}]),id:"chatGame",ref_key:"chatGame",ref:_,placeholder:o(c)("game-layouts.chat.placeholder"),onInput:p[0]||(p[0]=A=>n(A)),autocomplete:"off","onUpdate:modelValue":p[1]||(p[1]=A=>R(e)?e.value=A:null),maxlength:o(E),onKeyup:V(t,["enter"]),tabindex:"-1"},null,42,oe),[[$,o(e),void 0,{trim:!0}]]),o(s).isChatOpen?C("",!0):(l(),i("div",{key:0,onClick:t,class:h([{login:!o(a).user},"chat-icon-cont"])},[o(a).user?(l(),U(N,{key:1,name:"chat",class:"chat-icon"})):(l(),i(S,{key:0},[z("LOGIN REQUIRED")],64))],2)),o(a).user?(l(),i("div",{key:1,onClick:t,onMouseenter:p[2]||(p[2]=A=>o(r).playInterfaceSoundByName("hover")),class:"enter"}," Enter ",32)):C("",!0)],2)}}}),ie=k(le,[["__scopeId","data-v-11bac9d8"]]),G=d=>(ae("data-v-72b5d29b"),d=d(),te(),d),ce={class:"label"},re=G(()=>v("span",{class:"hr"},null,-1)),ue=G(()=>v("span",{class:"hr"},null,-1)),pe={class:"text"},de={__name:"Messages",setup(d){const c=x(),m=D(),s=X(()=>m.messages),a=f(null),r=()=>{a.value&&(a.value.scrollTop=a.value.scrollHeight)};w(r);let u;return Y(()=>m.messages,()=>{u=setTimeout(r,60)}),w(()=>{clearTimeout(u)}),(_,e)=>(l(),i("div",{class:h(["messages",[o(c).isMobileOrTablet?"mobile":""]]),ref_key:"messagesEl",ref:a},[(l(!0),i(S,null,J(o(s),(n,g)=>(l(),i("div",{key:g,class:"message"},[n.type===o(Z).PLAYER?(l(),i(S,{key:0},[n.label?(l(),i(S,{key:0},[v("span",ce,b(n.label),1),re],64)):C("",!0),v("span",{style:ee({color:o(se)(n.lvl).color}),class:"level"},b(n.lvl),5),ue,v("span",{class:h(["nickname",[n.team]])},b(n.name)+": ",3),v("span",pe,b(n.msg),1)],64)):(l(),i("span",{key:1,class:h(["text",[`color-${n.type}`]])},b(n.msg),3))]))),128))],2))}},_e=k(de,[["__scopeId","data-v-72b5d29b"]]),me={__name:"Chat",setup(d){const c=x();return(m,s)=>{const a=_e,r=ie;return l(),i("div",{class:h(["chat",{mobile:o(c).isMobileOrTablet}])},[T(a),T(r)],2)}}},ge=k(me,[["__scopeId","data-v-a3dcebc8"]]);export{he as _,ge as a};
